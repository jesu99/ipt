<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reemplazar Enlaces de Imágenes</title>
</head>
<body>
    <h2>Archivo M3U Modificado</h2>
    <textarea id="m3uInput" rows="10" cols="80" placeholder="Pega aquí tu archivo M3U"></textarea>
    <br>
    <textarea id="replaceList" rows="10" cols="80" placeholder="Pega aquí la lista de reemplazo (URL antigua - URL nueva, una por línea)"></textarea>
    <br>
    <button onclick="replaceImages()">Reemplazar Imágenes</button>
    <h3>Resultado:</h3>
    <pre id="output"></pre>

    <script>
        function replaceImages() {
            let m3uData = document.getElementById("m3uInput").value;
            let replacements = document.getElementById("replaceList").value.split("\n");

            let replaceMap = {};
            replacements.forEach(line => {
                let parts = line.split(" -> "); // Separador para reemplazo
                if (parts.length === 2) {
                    replaceMap[parts[0].trim()] = parts[1].trim();
                }
            });

            // Reemplazar enlaces antiguos por los nuevos
            for (const oldUrl in replaceMap) {
                const newUrl = replaceMap[oldUrl];
                m3uData = m3uData.replaceAll(oldUrl, newUrl);
            }

            document.getElementById("output").textContent = m3uData;
        }
    </script>
</body>
</html>
