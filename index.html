<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Películas</title>
</head>
<body>
    <h2>Lista de Películas</h2>
    <div id="movieList"></div>

    <script>
        const m3uData = `#EXTINF:-1 tvg-id="" tvg-name="As Neves (2024)" tvg-logo="http://goldfull.pro:8880/images/1bfdc1a81edf859e2bc5dbc95496037d.jpg" group-title="⭐️Estrenos 2024",As Neves (2024)
http://goldfull.pro:8880/movie/IptvNetmax026/MvEUWB5455UU/416454.mp4
#EXTINF:-1 tvg-id="" tvg-name="Correr Para Vivir (2024)" tvg-logo="http://goldfull.pro:8880/images/c32dab0cb0d49916b74ad1091643ee71.jpg" group-title="⭐️Estrenos 2024",Correr Para Vivir (2024)
http://goldfull.pro:8880/movie/IptvNetmax026/MvEUWB5455UU/416455.mp4`;

        // Mapa de reemplazo de imágenes (original -> nueva URL)
        const imageReplacements = {
            "http://goldfull.pro:8880/images/1bfdc1a81edf859e2bc5dbc95496037d.jpg": "https://i.postimg.cc/Y2ZchgK0/As-Neves.jpg",
            "http://goldfull.pro:8880/images/c32dab0cb0d49916b74ad1091643ee71.jpg": "https://i.postimg.cc/g0mbGW9K/Correr-Para-Vivir.jpg"
        };

        const lines = m3uData.split("\n");
        const movieList = document.getElementById("movieList");

        for (let i = 0; i < lines.length; i += 2) {
            const infoLine = lines[i];
            const videoUrl = lines[i + 1];

            const nameMatch = infoLine.match(/tvg-name="(.*?)"/);
            const logoMatch = infoLine.match(/tvg-logo="(.*?)"/);

            if (nameMatch && logoMatch) {
                const movieName = nameMatch[1];
                let imageUrl = logoMatch[1];

                // Reemplazar imagen si está en el mapa
                if (imageReplacements[imageUrl]) {
                    imageUrl = imageReplacements[imageUrl];
                }

                const movieItem = document.createElement("div");
                movieItem.innerHTML = `
                    <h3>${movieName}</h3>
                    <a href="${videoUrl}" target="_blank">
                        <img src="${imageUrl}" alt="${movieName}" style="width:200px; cursor:pointer;">
                    </a>
                    <hr>
                `;
                movieList.appendChild(movieItem);
            }
        }
    </script>
</body>
</html>
